<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MA'RIFA - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      .register-page {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .register-container {
        width: 100%;
        max-width: 500px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 25px;
        padding: 50px 40px;
        box-shadow: 0 25px 60px rgba(138, 74, 95, 0.25);
        backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .register-header {
        text-align: center;
        margin-bottom: 40px;
      }

      .register-arabic {
        font-family: "Noto Naskh Arabic", serif;
        font-size: 3.5rem;
        color: #2d1b4e;
        margin-bottom: 15px;
      }

      .register-title {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.5rem;
        color: #8a4a5f;
        margin-bottom: 10px;
      }

      .student-badge {
        background: linear-gradient(135deg, #8a4a5f, #6d394a);
        color: white;
        padding: 8px 20px;
        border-radius: 50px;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-family: "Inter", sans-serif;
        font-weight: 600;
        margin-top: 10px;
      }

      .register-form {
        display: flex;
        flex-direction: column;
        gap: 25px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .form-group label {
        font-family: "Inter", sans-serif;
        font-weight: 500;
        color: #4a4048;
        font-size: 0.95rem;
      }

      .register-form input,
      .register-form select {
        padding: 16px 20px;
        border: 2px solid rgba(138, 74, 95, 0.2);
        border-radius: 12px;
        font-family: "Inter", sans-serif;
        font-size: 1rem;
        background: white;
        transition: all 0.3s ease;
      }

      .register-form input:focus,
      .register-form select:focus {
        outline: none;
        border-color: #8a4a5f;
        box-shadow: 0 0 0 3px rgba(138, 74, 95, 0.1);
      }

      .submit-btn {
        padding: 18px;
        background: linear-gradient(135deg, #8a4a5f, #6d394a);
        color: white;
        border: none;
        border-radius: 12px;
        font-family: "Inter", sans-serif;
        font-size: 1.2rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .submit-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(138, 74, 95, 0.3);
      }

      .back-link {
        text-align: center;
        margin-top: 25px;
      }

      .back-link a {
        color: #8a4a5f;
        text-decoration: none;
        font-family: "Inter", sans-serif;
      }

      .back-link a:hover {
        text-decoration: underline;
      }

      .student-quote {
        background: rgba(138, 74, 95, 0.1);
        padding: 20px;
        border-radius: 12px;
        margin: 20px 0;
        border-left: 4px solid #8a4a5f;
      }

      .student-quote p {
        font-style: italic;
        font-size: 1.1rem;
        color: #4a4048;
        line-height: 1.6;
      }

      .student-quote .quote-source {
        text-align: right;
        color: #8a4a5f;
        font-weight: 500;
        margin-top: 10px;
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700;800&family=Cormorant+Garamond:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lateef:wght@400;500;600;700&family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- –§–û–ù -->
    <div class="background-image"></div>
    <div class="background-overlay"></div>

    <!-- –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –£–ß–ï–ù–ò–ö–ê -->
    <div class="register-page">
      <div class="register-container">
        <div class="register-header">
          <div class="register-arabic">ÿ™Ÿéÿ≥Ÿíÿ¨ŸêŸäŸÑ</div>
          <h1 class="register-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞</h1>
          <div class="student-badge">
            <i class="fas fa-user-graduate"></i>
            <span>ÿ∑ŸéÿßŸÑŸêÿ®Ÿè ÿßŸÑŸíÿπŸêŸÑŸíŸÖŸê | –ò—â—É—â–∏–π –∑–Ω–∞–Ω–∏—è</span>
          </div>

          <div class="student-quote">
            <p>"–°—Ç—Ä–µ–º—è—â–∏–π—Å—è –∫ –∑–Ω–∞–Ω–∏—é –ø–æ–¥–æ–±–µ–Ω –≤–æ–∏–Ω—É –Ω–∞ –ø—É—Ç–∏ –ê–ª–ª–∞—Ö–∞"</p>
            <div class="quote-source">‚Äî –ò–±–Ω –ú–∞–¥–∂–∞</div>
          </div>
        </div>

        <form id="registerForm" class="register-form">
          <div class="form-group">
            <label>–í–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è</label>
            <input
              type="text"
              id="fullName"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è"
              required
            />
          </div>

          <div class="form-group">
            <label>Email –∞–¥—Ä–µ—Å</label>
            <input
              type="email"
              id="email"
              placeholder="example@mail.com"
              required
            />
          </div>

          <div class="form-group">
            <label>–ü–∞—Ä–æ–ª—å</label>
            <input
              type="password"
              id="password"
              placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤"
              required
              minlength="6"
            />
          </div>

          <div class="form-group">
            <label>–£—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</label>
            <select id="level" required>
              <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å</option>
              <option value="beginner">–ù–∞—á–∏–Ω–∞—é—â–∏–π (—Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞—é)</option>
              <option value="intermediate">–ü—Ä–æ–¥–æ–ª–∂–∞—é—â–∏–π (–∑–Ω–∞—é –æ—Å–Ω–æ–≤—ã)</option>
              <option value="advanced">
                –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π (—Ö–æ—á—É —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è)
              </option>
            </select>
          </div>

          <div class="form-group">
            <label>–¶–µ–ª—å –æ–±—É—á–µ–Ω–∏—è</label>
            <select id="goal">
              <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å</option>
              <option value="reading">–ù–∞—É—á–∏—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ —á–∏—Ç–∞—Ç—å –ö–æ—Ä–∞–Ω</option>
              <option value="memorization">–ó–∞—É—á–∏–≤–∞–Ω–∏–µ –ö–æ—Ä–∞–Ω–∞ (–•–∏—Ñ–∑)</option>
              <option value="improvement">–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–¥–∂–≤–∏–¥–∞</option>
              <option value="teaching">–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è</option>
            </select>
          </div>

          <button type="submit" class="submit-btn" id="submitBtn">
            <i class="fas fa-user-graduate"></i> –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç —É—á–µ–Ω–∏–∫–∞
          </button>

          <div class="back-link">
            <a href="index.html"
              ><i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a
            >
          </div>
        </form>
      </div>
    </div>

    <script>
      // –ü–†–û–°–¢–û–ô —Å–∫—Ä–∏–ø—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—á–µ–Ω–∏–∫–∞
      document.addEventListener("DOMContentLoaded", function () {
        console.log("üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞");

        const submitBtn = document.getElementById("submitBtn");
        const registerForm = document.getElementById("registerForm");

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã
        registerForm.addEventListener("submit", function (e) {
          e.preventDefault();
          console.log("üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—á–µ–Ω–∏–∫–∞...");

          // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ
          const userData = {
            role: "student",
            name: document.getElementById("fullName").value.trim(),
            email: document.getElementById("email").value.trim(),
            level: document.getElementById("level").value,
            goal: document.getElementById("goal").value,
            registered: new Date().toISOString(),
            onboardingCompleted: false, // false –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            isStudent: true,
          };

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ä–æ–ª—å
          const password = document.getElementById("password").value;
          if (password.length < 6) {
            console.error("‚ùå –ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤");
            return;
          }

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–º—è
          if (!userData.name) {
            console.error("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è");
            return;
          }

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º email
          if (!userData.email || !userData.email.includes("@")) {
            console.error("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email");
            return;
          }

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Ä–æ–≤–µ–Ω—å
          if (!userData.level) {
            console.error("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏");
            return;
          }

          // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage (–ø—Ä–æ—Å—Ç–æ!)
          localStorage.setItem("marifa_user", JSON.stringify(userData));
          console.log("üíæ –£—á–µ–Ω–∏–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω:", userData);

          // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–∞–∫–∂–µ –ø–∞—Ä–æ–ª—å
          localStorage.setItem("marifa_student_password", password);

          // –ú–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É
          submitBtn.innerHTML =
            '<i class="fas fa-check"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!';
          submitBtn.style.background =
            "linear-gradient(135deg, #4CAF50, #2E7D32)";
          submitBtn.disabled = true;

          console.log("‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!");

          // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ onboarding —É—á–µ–Ω–∏–∫–∞
          setTimeout(() => {
            console.log("üîÑ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ onboarding-student.html");
            window.location.href = "onboarding-student.html";
          }, 1500);
        });

        // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –∏–º–µ–Ω–∏
        document.getElementById("fullName").focus();
      });
    </script>
  </body>
</html>
